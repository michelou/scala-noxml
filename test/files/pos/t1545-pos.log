Possible compiler crash during test of: test/files/pos/t1545.scala
scala.reflect.internal.Types$TypeError: type mismatch;
 found   : Option[String]
 required: Main.Foo
	at scala.tools.nsc.typechecker.Contexts$Context.error(Contexts.scala:283)
	at scala.tools.nsc.typechecker.Infer$Inferencer.error(Infer.scala:207)
	at scala.tools.nsc.typechecker.Infer$Inferencer.typeError(Infer.scala:217)
	at scala.tools.nsc.typechecker.Infer$Inferencer.typeErrorTree(Infer.scala:255)
	at scala.tools.nsc.typechecker.Typers$Typer.adapt(Typers.scala:982)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4311)
	at scala.tools.nsc.typechecker.Typers$Typer.typedArg(Typers.scala:2162)
	at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$typedArgs$3.apply(Typers.scala:2175)
	at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$typedArgs$3.apply(Typers.scala:2174)
	at scala.Tuple3$Zipped$$anonfun$map$1.apply(Tuple3.scala:66)
	at scala.Tuple3$Zipped$$anonfun$map$1.apply(Tuple3.scala:64)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:77)
	at scala.Tuple3$Zipped.map(Tuple3.scala:64)
	at scala.tools.nsc.typechecker.Typers$Typer.typedArgs(Typers.scala:2174)
	at scala.tools.nsc.typechecker.Typers$Typer.doTypedApply(Typers.scala:2405)
	at scala.tools.nsc.typechecker.Typers$Typer.typedApply$1(Typers.scala:3422)
	at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:4147)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4302)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4377)
	at scala.tools.nsc.typechecker.Typers$Typer.typedCase(Typers.scala:1912)
	at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$typedCases$1.apply(Typers.scala:1926)
	at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$typedCases$1.apply(Typers.scala:1925)
	at scala.collection.immutable.List.loop$1(List.scala:151)
	at scala.collection.immutable.List.mapConserve(List.scala:167)
	at scala.tools.nsc.typechecker.Typers$Typer.typedCases(Typers.scala:1925)
	at scala.tools.nsc.typechecker.Typers$Typer.typedMatch$1(Typers.scala:3198)
	at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:4052)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4302)
	at scala.tools.nsc.typechecker.Typers$Typer.transformedOrTyped(Typers.scala:4461)
	at scala.tools.nsc.typechecker.Typers$Typer.typedDefDef(Typers.scala:1716)
	at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:3981)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4302)
	at scala.tools.nsc.typechecker.Typers$Typer.typedStat$1(Typers.scala:2066)
	at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$25.apply(Typers.scala:2155)
	at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$25.apply(Typers.scala:2155)
	at scala.collection.immutable.List.loop$1(List.scala:151)
	at scala.collection.immutable.List.mapConserve(List.scala:167)
	at scala.tools.nsc.typechecker.Typers$Typer.typedStats(Typers.scala:2155)
	at scala.tools.nsc.typechecker.Typers$Typer.typedTemplate(Typers.scala:1479)
	at scala.tools.nsc.typechecker.Typers$Typer.typedClassDef(Typers.scala:1354)
	at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:3972)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4302)
	at scala.tools.nsc.typechecker.Typers$Typer.typedStat$1(Typers.scala:2066)
	at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$25.apply(Typers.scala:2155)
	at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$25.apply(Typers.scala:2155)
	at scala.collection.immutable.List.loop$1(List.scala:151)
	at scala.collection.immutable.List.mapConserve(List.scala:167)
	at scala.tools.nsc.typechecker.Typers$Typer.typedStats(Typers.scala:2155)
	at scala.tools.nsc.typechecker.Typers$Typer.typedBlock(Typers.scala:1874)
	at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:4013)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4302)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4361)
	at scala.tools.nsc.typechecker.Typers$Typer.typedPos(Typers.scala:4365)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.transformFunction(UnCurry.scala:341)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.mainTransform(UnCurry.scala:572)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.transform(UnCurry.scala:95)
	at scala.reflect.api.Trees$Transformer$$anonfun$transform$4.apply(Trees.scala:1142)
	at scala.reflect.api.Trees$Transformer$$anonfun$transform$4.apply(Trees.scala:1141)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:1257)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:38)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:31)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:19)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:1140)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:53)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.scala$tools$nsc$transform$UnCurry$UnCurryTransformer$$super$transform(UnCurry.scala:511)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer$$anonfun$mainTransform$2.apply(UnCurry.scala:519)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.mainTransform(UnCurry.scala:519)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.transform(UnCurry.scala:95)
	at scala.reflect.api.Trees$Transformer$$anonfun$transformStats$1.apply(Trees.scala:1250)
	at scala.reflect.api.Trees$Transformer$$anonfun$transformStats$1.apply(Trees.scala:1248)
	at scala.collection.immutable.List.loop$1(List.scala:151)
	at scala.collection.immutable.List.mapConserve(List.scala:167)
	at scala.reflect.api.Trees$Transformer.transformStats(Trees.scala:1248)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:1160)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.scala$tools$nsc$transform$TypingTransformers$TypingTransformer$$super$transform(TypingTransformers.scala:49)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer$$anonfun$transform$1.apply(TypingTransformers.scala:49)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer$$anonfun$transform$1.apply(TypingTransformers.scala:49)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:1257)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:38)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:31)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:49)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.scala$tools$nsc$transform$UnCurry$UnCurryTransformer$$super$transform(UnCurry.scala:511)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer$$anonfun$mainTransform$6.apply(UnCurry.scala:575)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer$$anonfun$mainTransform$6.apply(UnCurry.scala:575)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.mainTransform(UnCurry.scala:575)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.transform(UnCurry.scala:95)
	at scala.reflect.api.Trees$Transformer.transformTemplate(Trees.scala:1234)
	at scala.reflect.api.Trees$Transformer$$anonfun$transform$2.apply(Trees.scala:1132)
	at scala.reflect.api.Trees$Transformer$$anonfun$transform$2.apply(Trees.scala:1131)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:1257)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:38)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:31)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:19)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:1130)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:53)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.mainTransform(UnCurry.scala:578)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.transform(UnCurry.scala:95)
	at scala.reflect.api.Trees$Transformer$$anonfun$transformStats$1.apply(Trees.scala:1250)
	at scala.reflect.api.Trees$Transformer$$anonfun$transformStats$1.apply(Trees.scala:1248)
	at scala.collection.immutable.List.loop$1(List.scala:151)
	at scala.collection.immutable.List.mapConserve(List.scala:167)
	at scala.reflect.api.Trees$Transformer.transformStats(Trees.scala:1248)
	at scala.reflect.api.Trees$Transformer$$anonfun$transform$1.apply(Trees.scala:1126)
	at scala.reflect.api.Trees$Transformer$$anonfun$transform$1.apply(Trees.scala:1126)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:1257)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:38)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:31)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:19)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:1125)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.scala$tools$nsc$transform$TypingTransformers$TypingTransformer$$super$transform(TypingTransformers.scala:49)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer$$anonfun$transform$2.apply(TypingTransformers.scala:51)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer$$anonfun$transform$2.apply(TypingTransformers.scala:51)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:1257)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:38)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:31)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:51)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.mainTransform(UnCurry.scala:578)
	at scala.tools.nsc.transform.UnCurry$UnCurryTransformer.transform(UnCurry.scala:95)
	at scala.tools.nsc.ast.Trees$Transformer.transformUnit(Trees.scala:205)
	at scala.tools.nsc.transform.Transform$Phase.apply(Transform.scala:30)
	at scala.tools.nsc.Global$GlobalPhase.applyPhase(Global.scala:372)
	at scala.tools.nsc.Global$GlobalPhase$$anonfun$run$1.apply(Global.scala:342)
	at scala.tools.nsc.Global$GlobalPhase$$anonfun$run$1.apply(Global.scala:342)
	at scala.collection.Iterator$class.foreach(Iterator.scala:690)
	at scala.collection.AbstractIterator.foreach(Iterator.scala:1115)
	at scala.tools.nsc.Global$GlobalPhase.run(Global.scala:342)
	at scala.tools.nsc.Global$Run.compileUnits(Global.scala:1101)
	at scala.tools.nsc.Global$Run.compileSources(Global.scala:1076)
	at scala.tools.nsc.Global$Run.compile(Global.scala:1194)
	at scala.tools.partest.nest.DirectCompiler.compile(CompileManager.scala:112)
	at scala.tools.partest.nest.CompileManager.shouldCompile(CompileManager.scala:171)
	at scala.tools.partest.nest.Worker$$anonfun$runTestCommon$1$1.apply(Worker.scala:514)
	at scala.tools.partest.nest.Worker$$anonfun$runTestCommon$1$1.apply(Worker.scala:506)
	at scala.tools.partest.nest.Worker.liftedTree1$1(Worker.scala:465)
	at scala.tools.partest.nest.Worker.runInContext$1(Worker.scala:459)
	at scala.tools.partest.nest.Worker.runTestCommon$1(Worker.scala:506)
	at scala.tools.partest.nest.Worker.processSingleFile$1(Worker.scala:570)
	at scala.tools.partest.nest.Worker$$anonfun$runTests$2$$anonfun$apply$3.apply$mcV$sp(Worker.scala:975)
	at scala.actors.Actor$$anon$1.act(Actor.scala:127)
	at scala.actors.Reactor$$anonfun$dostart$1.apply(Reactor.scala:221)
	at scala.actors.Reactor$$anonfun$dostart$1.apply(Reactor.scala:221)
	at scala.actors.ReactorTask.run(ReactorTask.scala:33)
	at scala.concurrent.forkjoin.ForkJoinPool$AdaptedRunnable.exec(ForkJoinPool.java:611)
	at scala.concurrent.forkjoin.ForkJoinTask.quietlyExec(ForkJoinTask.java:422)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.mainLoop(ForkJoinWorkerThread.java:340)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:325)
